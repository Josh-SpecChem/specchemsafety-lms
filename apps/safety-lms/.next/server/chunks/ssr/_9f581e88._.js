module.exports=[37100,a=>{"use strict";a.s(["Loader2",()=>b],37100);let b=(0,a.i(21211).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},849,a=>{"use strict";a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g]);var b=a.i(11755),c=a.i(80150),d=a.i(80511);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter"},18550,a=>{"use strict";a.s(["Badge",()=>f]);var b=a.i(11755),c=a.i(42261),d=a.i(80511);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}},41120,a=>{"use strict";a.s(["CheckCircle",()=>b],41120);let b=(0,a.i(21211).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},76868,a=>{"use strict";a.s(["default",()=>r],76868);var b=a.i(11755),c=a.i(78352),d=a.i(81160),e=a.i(42731),f=a.i(80150),g=a.i(849),h=a.i(18550),i=a.i(81953),j=a.i(30898),k=a.i(37761),l=a.i(36634),m=a.i(30699),n=a.i(41120),o=a.i(94259),p=a.i(43139),q=a.i(37100);function r(){let{user:a,profile:r,isAuthenticated:s,getFullName:t,getRole:u,getPermissions:v,getPlantName:w}=(0,d.useUser)(),{signOut:x}=(0,e.useAuth)(),{stats:y,loading:z}=function(){let[a,b]=(0,f.useState)({totalEnrollments:0,completedCourses:0,inProgressCourses:0,certificates:0}),[c,d]=(0,f.useState)(!0),[e,g]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{d(!0),g(null);let a=await fetch("/api/stats/dashboard");if(!a.ok)throw Error(`Failed to fetch stats: ${a.statusText}`);let c=await a.json();if(!c.success)throw Error(c.error||"Failed to fetch stats");b(c.data)}catch(a){console.error("Error fetching dashboard stats:",a),g(a instanceof Error?a.message:"Failed to fetch stats")}finally{d(!1)}})()},[]),{stats:a,loading:c,error:e,refetch:()=>{}}}();if(!s())return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(p.Shield,{className:"h-8 w-8 text-white"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"Loading..."}),(0,b.jsx)("p",{className:"text-neutral-600",children:"Please wait while we load your dashboard."})]})});let A=v();return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-neutral-900",children:"Dashboard"}),(0,b.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome back, ",t(),"!"]})]}),(0,b.jsx)(h.Badge,{variant:"secondary",className:"px-4 py-2",children:u()?.charAt(0).toUpperCase()+u()?.slice(1)})]}),z?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(q.Loader2,{className:"h-8 w-8 animate-spin text-primary-600"}),(0,b.jsx)("span",{className:"ml-3 text-neutral-600",children:"Loading statistics..."})]}):(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-neutral-600",children:"Total Enrollments"}),(0,b.jsx)(j.BookOpen,{className:"h-4 w-4 text-primary-600"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-neutral-900",children:y.totalEnrollments}),(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:"Active course enrollments"})]})]}),(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-neutral-600",children:"Completed"}),(0,b.jsx)(n.CheckCircle,{className:"h-4 w-4 text-accent-green-600"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-neutral-900",children:y.completedCourses}),(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:"Courses finished"})]})]}),(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-neutral-600",children:"In Progress"}),(0,b.jsx)(o.TrendingUp,{className:"h-4 w-4 text-accent-orange-600"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-neutral-900",children:y.inProgressCourses}),(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:"Active learning"})]})]}),(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-neutral-600",children:"Certificates"}),(0,b.jsx)(p.Shield,{className:"h-4 w-4 text-secondary-600"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-neutral-900",children:y.certificates}),(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:"Safety certifications"})]})]})]}),(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-semibold text-neutral-900",children:"Account Information"}),(0,b.jsx)(g.CardDescription,{children:"Your profile and account details"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Name"}),(0,b.jsx)("p",{className:"text-neutral-900 font-medium",children:t()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Email"}),(0,b.jsx)("p",{className:"text-neutral-900 font-medium",children:a?.email})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Role"}),(0,b.jsx)("p",{className:"text-neutral-900 font-medium capitalize",children:u()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Plant"}),(0,b.jsx)("p",{className:"text-neutral-900 font-medium",children:w()})]})]})]})})]}),A&&(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-semibold text-neutral-900",children:"Your Permissions"}),(0,b.jsx)(g.CardDescription,{children:"Access levels and capabilities"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canManageUsers?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"Manage Users"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canManageCourses?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"Manage Courses"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canManagePlants?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"Manage Plants"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canViewReports?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"View Reports"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canManageEnrollments?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"Manage Enrollments"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${A.canViewAllData?"bg-accent-green-500":"bg-neutral-300"}`}),(0,b.jsx)("span",{className:"text-neutral-900",children:"View All Data"})]})]})})]}),(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-semibold text-neutral-900",children:"Quick Actions"}),(0,b.jsx)(g.CardDescription,{children:"Common tasks and navigation shortcuts"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(i.Button,{asChild:!0,className:"h-20 flex-col space-y-2 bg-primary-500 hover:bg-primary-600",children:(0,b.jsxs)(c.default,{href:"/courses",children:[(0,b.jsx)(j.BookOpen,{className:"h-6 w-6"}),(0,b.jsx)("span",{className:"font-medium",children:"View Courses"})]})}),A?.canViewReports&&(0,b.jsx)(i.Button,{asChild:!0,className:"h-20 flex-col space-y-2 bg-accent-green-500 hover:bg-accent-green-600",children:(0,b.jsxs)("a",{href:"/reports",children:[(0,b.jsx)(k.BarChart3,{className:"h-6 w-6"}),(0,b.jsx)("span",{className:"font-medium",children:"View Reports"})]})}),A?.canManageUsers&&(0,b.jsx)(i.Button,{asChild:!0,className:"h-20 flex-col space-y-2 bg-secondary-600 hover:bg-secondary-700",children:(0,b.jsxs)("a",{href:"/users",children:[(0,b.jsx)(l.Users,{className:"h-6 w-6"}),(0,b.jsx)("span",{className:"font-medium",children:"Manage Users"})]})}),A?.canManagePlants&&(0,b.jsx)(i.Button,{asChild:!0,className:"h-20 flex-col space-y-2 bg-accent-orange-500 hover:bg-accent-orange-600",children:(0,b.jsxs)("a",{href:"/plants",children:[(0,b.jsx)(m.Building2,{className:"h-6 w-6"}),(0,b.jsx)("span",{className:"font-medium",children:"Manage Plants"})]})})]})})]})]})}}];

//# sourceMappingURL=_9f581e88._.js.map